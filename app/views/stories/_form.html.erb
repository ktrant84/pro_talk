<%= simple_form_for @story do |f| %>
    <%= f.input_field :id, type: "hidden", value: @story.id %>
    <div class="control">
        <%= f.input_field :title, class: "input", required: true, placeholder: "What is your story's title?" %>
    </div>

    <div class="control">
        <%= f.text_area :content, class: "textarea", placeholder: "Your story goes here." %>
    </div>

    <span style="display: none;" data-story-id="<%= @story.id %>"></span>

    <%= select("story", "gender_id", @genders.collect {|g| [ g.description, g.id ] }, { include_blank: 'Select Gender' }) %>

    <%= select("story", "relationship_to_abortion_id", @relationships_to_abortion.collect {|g| [ g.description, g.id ] }, { include_blank: 'Select Relationship to Abortion' }) %>

    <%= select("story", "age_range_id", @age_ranges.collect {|g| [ g.description, g.id ] }, { include_blank: 'Select Age Range' }) %>

    <div class="tags">
        <% @tags.map do |tag| %>
            <div class="tag" data-tag-id="<%= tag.id %>" data-showing="<%= @serialized_story[:tags].include?(tag.to_json) %>">
                <%= "#{ tag.name }" %>
            </div>
        <% end %>
    </div>

    <!-- TODO: Submit button shouldn't submit the form unless there's content in both input fields above. -->
    <!-- TODO: Both buttons below submit the form -- only the `:submit` button should do that. -->
    <div class="control">
        <%= f.button :submit, class: "button is-primary", value: "Publish Story", id: "publish" %>
        <%= f.button :button, class: "button is-info", id: "save" do %>
            Save
        <% end %>
    </div>
<% end %>
